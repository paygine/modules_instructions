Модуль для интеграции CMS OpenCart и платежной системы Paygine
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Установка

1. Скопируйте файлы из папки upload в корень Вашего магазина. Имеющиеся файлы не будут перезаписаны.

2. В административной панели Вашего магазина в разделе "Модули/Расширения" -> "Оплата" установите модули "Paygine (Кредитная / Дебетовая Карта)"

3. Измените настройки установленных на предыдущем шаге модулей. 
Значения "Sector ID" и "Пароль для электронной подписи" Вы получите при регистрации Вашего интернет-магазина в платежной системе Paygine.
URL для колбэка от платежной системы необходимо предоставить платежной системе. Для этого следует ввести его в соответствующее поле в
Вашем Личном кабинете в системе Paygine в формате:"Ваш домен+/index.php?route=extension/payment/paygine/callback" например http://opencard23.test/index.php?route=extension/payment/paygine/callback

4. Установка завершена. Модули со статусом "Включено" появятся в списке возможных методов оплаты при оформлении заказа покупателем.


Примечания

- В Вашем магазине должны быть установлены следующие коды для валют: рубль - 'RUB' , доллар - 'USD', евро - 'EUR'. Просматривать и редактировать коды валют можно в административной панели магазина в разделе "Система" -> "Локализация" -> "Валюты".


~~~~~~~~~~~
FAQ
~~~~~~~~~~~

Возникает ошибка вида "Notice: Undefined property: stdClass::$reference"
	- убедиться, что установлен новый модуль из гитхаба (https://github.com/paygine/). Если переустановить модуль самостоятельно не удается, обратиться в поддержку с предоставлением доступа к сайту (админка, ftp/ssh)
	- в случае, если проблема воспроизводится после переустановки модуля, временно отключите отображение ошибок (Settings -> Server -> Display Errors выберите No) и сообщите о проблеме в поддержку с предоставлением доступа.

Фискальные позиции не передаются
	- убедиться, что установлен новый модуль из гитхаба (https://github.com/paygine/). Если переустановить модуль самостоятельно не удается, обратиться в поддержку с предоставлением доступа к сайту (админка, ftp/ssh)
	- проверить настройку передачи данных на ККТ (при наличии), должно быть включено. 
	  Путь настройки "Модули/Расширения" -> "Оплата" -> "Paygine (Кредитная / Дебетовая Карта)"
	- Код ставки НДС для ККТ от 1 до 6
	- Если ничего не помогло, обратиться в поддержку, предоставив доступ к сайту (админка, ftp/ssh)
 
Не работает оплата - регистрация заказа не прошла
	- убедиться, что установлен новый модуль из гитхаба (https://github.com/paygine/). Если переустановить модуль самостоятельно не удается, обратиться в поддержку с предоставлением доступа к сайту (админка, ftp/ssh)
	- проверить номер сектора
	- проверить пароль
	- убедиться, что модуль работает в соответствующем режиме (боевой/тестовый), пароль для тестового режима по-умолчанию "test"
	- проверить настройку передачи данных на ККТ (при наличии). Если чеки формирует Paygine, значение = 1, если используется фискализация на собственной кассе, значение = 0
	- Код ставки НДС для ККТ от 1 до 6
	- Если ничего не помогло, обратиться в поддержку, предоставив доступ к сайту (админка, ftp/ssh)
	
Не работает оплата - заказ зарегистрирован в ЛК paygine
	- убедиться, что установлен новый модуль из гитхаба (https://github.com/paygine/). Если переустановить модуль самостоятельно не удается, обратиться в поддержку с предоставлением доступа к сайту (админка, ftp/ssh)
	- проверить redirect url в настройках (при наличии)
	- убедиться, что стадийность в настройках корректная
	- Если ничего не помогло, обратиться в поддержку, предоставив доступ к сайту (админка, ftp/ssh)